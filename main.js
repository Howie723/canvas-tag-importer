/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var le=Object.defineProperty;var zi=Object.getOwnPropertyDescriptor;var en=Object.getOwnPropertyNames;var nn=Object.prototype.hasOwnProperty;var v=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),rn=(e,i)=>{for(var n in i)le(e,n,{get:i[n],enumerable:!0})},ln=(e,i,n,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of en(i))!nn.call(e,r)&&r!==n&&le(e,r,{get:()=>i[r],enumerable:!(l=zi(i,r))||l.enumerable});return e};var tn=e=>ln(le({},"__esModule",{value:!0}),e);var M=v((Tl,O)=>{"use strict";function Ue(e){return typeof e=="undefined"||e===null}function on(e){return typeof e=="object"&&e!==null}function un(e){return Array.isArray(e)?e:Ue(e)?[]:[e]}function an(e,i){var n,l,r,o;if(i)for(o=Object.keys(i),n=0,l=o.length;n<l;n+=1)r=o[n],e[r]=i[r];return e}function cn(e,i){var n="",l;for(l=0;l<i;l+=1)n+=e;return n}function sn(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}O.exports.isNothing=Ue;O.exports.isObject=on;O.exports.toArray=un;O.exports.repeat=cn;O.exports.isNegativeZero=sn;O.exports.extend=an});var R=v((Sl,Ye)=>{"use strict";function Pe(e,i){var n="",l=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!i&&e.mark.snippet&&(n+=`

`+e.mark.snippet),l+" "+n):l}function B(e,i){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=i,this.message=Pe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}B.prototype=Object.create(Error.prototype);B.prototype.constructor=B;B.prototype.toString=function(i){return this.name+": "+Pe(this,i)};Ye.exports=B});var He=v((bl,Be)=>{"use strict";var H=M();function te(e,i,n,l,r){var o="",t="",u=Math.floor(r/2)-1;return l-i>u&&(o=" ... ",i=l-u+o.length),n-l>u&&(t=" ...",n=l+u-t.length),{str:o+e.slice(i,n).replace(/\t/g,"\u2192")+t,pos:l-i+o.length}}function oe(e,i){return H.repeat(" ",i-e.length)+e}function pn(e,i){if(i=Object.create(i||null),!e.buffer)return null;i.maxLength||(i.maxLength=79),typeof i.indent!="number"&&(i.indent=1),typeof i.linesBefore!="number"&&(i.linesBefore=3),typeof i.linesAfter!="number"&&(i.linesAfter=2);for(var n=/\r?\n|\r|\0/g,l=[0],r=[],o,t=-1;o=n.exec(e.buffer);)r.push(o.index),l.push(o.index+o[0].length),e.position<=o.index&&t<0&&(t=l.length-2);t<0&&(t=l.length-1);var u="",a,c,p=Math.min(e.line+i.linesAfter,r.length).toString().length,s=i.maxLength-(i.indent+p+3);for(a=1;a<=i.linesBefore&&!(t-a<0);a++)c=te(e.buffer,l[t-a],r[t-a],e.position-(l[t]-l[t-a]),s),u=H.repeat(" ",i.indent)+oe((e.line-a+1).toString(),p)+" | "+c.str+`
`+u;for(c=te(e.buffer,l[t],r[t],e.position,s),u+=H.repeat(" ",i.indent)+oe((e.line+1).toString(),p)+" | "+c.str+`
`,u+=H.repeat("-",i.indent+p+3+c.pos)+`^
`,a=1;a<=i.linesAfter&&!(t+a>=r.length);a++)c=te(e.buffer,l[t+a],r[t+a],e.position-(l[t]-l[t+a]),s),u+=H.repeat(" ",i.indent)+oe((e.line+a+1).toString(),p)+" | "+c.str+`
`;return u.replace(/\n$/,"")}Be.exports=pn});var w=v((El,Ke)=>{"use strict";var je=R(),fn=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],hn=["scalar","sequence","mapping"];function dn(e){var i={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(l){i[String(l)]=n})}),i}function gn(e,i){if(i=i||{},Object.keys(i).forEach(function(n){if(fn.indexOf(n)===-1)throw new je('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=i,this.tag=e,this.kind=i.kind||null,this.resolve=i.resolve||function(){return!0},this.construct=i.construct||function(n){return n},this.instanceOf=i.instanceOf||null,this.predicate=i.predicate||null,this.represent=i.represent||null,this.representName=i.representName||null,this.defaultStyle=i.defaultStyle||null,this.multi=i.multi||!1,this.styleAliases=dn(i.styleAliases||null),hn.indexOf(this.kind)===-1)throw new je('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Ke.exports=gn});var ce=v((_l,Ge)=>{"use strict";var j=R(),ue=w();function We(e,i){var n=[];return e[i].forEach(function(l){var r=n.length;n.forEach(function(o,t){o.tag===l.tag&&o.kind===l.kind&&o.multi===l.multi&&(r=t)}),n[r]=l}),n}function mn(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},i,n;function l(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(i=0,n=arguments.length;i<n;i+=1)arguments[i].forEach(l);return e}function ae(e){return this.extend(e)}ae.prototype.extend=function(i){var n=[],l=[];if(i instanceof ue)l.push(i);else if(Array.isArray(i))l=l.concat(i);else if(i&&(Array.isArray(i.implicit)||Array.isArray(i.explicit)))i.implicit&&(n=n.concat(i.implicit)),i.explicit&&(l=l.concat(i.explicit));else throw new j("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof ue))throw new j("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new j("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new j("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),l.forEach(function(o){if(!(o instanceof ue))throw new j("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(ae.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(l),r.compiledImplicit=We(r,"implicit"),r.compiledExplicit=We(r,"explicit"),r.compiledTypeMap=mn(r.compiledImplicit,r.compiledExplicit),r};Ge.exports=ae});var se=v((Fl,$e)=>{"use strict";var xn=w();$e.exports=new xn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var pe=v((kl,Ve)=>{"use strict";var vn=w();Ve.exports=new vn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var fe=v((Il,Qe)=>{"use strict";var An=w();Qe.exports=new An("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var he=v((Ol,Xe)=>{"use strict";var yn=ce();Xe.exports=new yn({explicit:[se(),pe(),fe()]})});var de=v((Ll,Je)=>{"use strict";var Cn=w();function wn(e){if(e===null)return!0;var i=e.length;return i===1&&e==="~"||i===4&&(e==="null"||e==="Null"||e==="NULL")}function Tn(){return null}function Sn(e){return e===null}Je.exports=new Cn("tag:yaml.org,2002:null",{kind:"scalar",resolve:wn,construct:Tn,predicate:Sn,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var ge=v((Nl,Ze)=>{"use strict";var bn=w();function En(e){if(e===null)return!1;var i=e.length;return i===4&&(e==="true"||e==="True"||e==="TRUE")||i===5&&(e==="false"||e==="False"||e==="FALSE")}function _n(e){return e==="true"||e==="True"||e==="TRUE"}function Fn(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Ze.exports=new bn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:En,construct:_n,predicate:Fn,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var me=v((Dl,ze)=>{"use strict";var kn=M(),In=w();function On(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ln(e){return 48<=e&&e<=55}function Nn(e){return 48<=e&&e<=57}function Dn(e){if(e===null)return!1;var i=e.length,n=0,l=!1,r;if(!i)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===i)return!0;if(r=e[++n],r==="b"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;l=!0}return l&&r!=="_"}if(r==="x"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(!On(e.charCodeAt(n)))return!1;l=!0}return l&&r!=="_"}if(r==="o"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(!Ln(e.charCodeAt(n)))return!1;l=!0}return l&&r!=="_"}}if(r==="_")return!1;for(;n<i;n++)if(r=e[n],r!=="_"){if(!Nn(e.charCodeAt(n)))return!1;l=!0}return!(!l||r==="_")}function Mn(e){var i=e,n=1,l;if(i.indexOf("_")!==-1&&(i=i.replace(/_/g,"")),l=i[0],(l==="-"||l==="+")&&(l==="-"&&(n=-1),i=i.slice(1),l=i[0]),i==="0")return 0;if(l==="0"){if(i[1]==="b")return n*parseInt(i.slice(2),2);if(i[1]==="x")return n*parseInt(i.slice(2),16);if(i[1]==="o")return n*parseInt(i.slice(2),8)}return n*parseInt(i,10)}function Rn(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!kn.isNegativeZero(e)}ze.exports=new In("tag:yaml.org,2002:int",{kind:"scalar",resolve:Dn,construct:Mn,predicate:Rn,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var xe=v((Ml,ii)=>{"use strict";var ei=M(),qn=w(),Un=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Pn(e){return!(e===null||!Un.test(e)||e[e.length-1]==="_")}function Yn(e){var i,n;return i=e.replace(/_/g,"").toLowerCase(),n=i[0]==="-"?-1:1,"+-".indexOf(i[0])>=0&&(i=i.slice(1)),i===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:i===".nan"?NaN:n*parseFloat(i,10)}var Bn=/^[-+]?[0-9]+e/;function Hn(e,i){var n;if(isNaN(e))switch(i){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(i){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(i){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ei.isNegativeZero(e))return"-0.0";return n=e.toString(10),Bn.test(n)?n.replace("e",".e"):n}function jn(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ei.isNegativeZero(e))}ii.exports=new qn("tag:yaml.org,2002:float",{kind:"scalar",resolve:Pn,construct:Yn,predicate:jn,represent:Hn,defaultStyle:"lowercase"})});var ve=v((Rl,ni)=>{"use strict";ni.exports=he().extend({implicit:[de(),ge(),me(),xe()]})});var Ae=v((ql,ri)=>{"use strict";ri.exports=ve()});var ye=v((Ul,oi)=>{"use strict";var Kn=w(),li=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ti=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wn(e){return e===null?!1:li.exec(e)!==null||ti.exec(e)!==null}function Gn(e){var i,n,l,r,o,t,u,a=0,c=null,p,s,h;if(i=li.exec(e),i===null&&(i=ti.exec(e)),i===null)throw new Error("Date resolve error");if(n=+i[1],l=+i[2]-1,r=+i[3],!i[4])return new Date(Date.UTC(n,l,r));if(o=+i[4],t=+i[5],u=+i[6],i[7]){for(a=i[7].slice(0,3);a.length<3;)a+="0";a=+a}return i[9]&&(p=+i[10],s=+(i[11]||0),c=(p*60+s)*6e4,i[9]==="-"&&(c=-c)),h=new Date(Date.UTC(n,l,r,o,t,u,a)),c&&h.setTime(h.getTime()-c),h}function $n(e){return e.toISOString()}oi.exports=new Kn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wn,construct:Gn,instanceOf:Date,represent:$n})});var Ce=v((Pl,ui)=>{"use strict";var Vn=w();function Qn(e){return e==="<<"||e===null}ui.exports=new Vn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Qn})});var Te=v((Yl,ai)=>{"use strict";var Xn=w(),we=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Jn(e){if(e===null)return!1;var i,n,l=0,r=e.length,o=we;for(n=0;n<r;n++)if(i=o.indexOf(e.charAt(n)),!(i>64)){if(i<0)return!1;l+=6}return l%8===0}function Zn(e){var i,n,l=e.replace(/[\r\n=]/g,""),r=l.length,o=we,t=0,u=[];for(i=0;i<r;i++)i%4===0&&i&&(u.push(t>>16&255),u.push(t>>8&255),u.push(t&255)),t=t<<6|o.indexOf(l.charAt(i));return n=r%4*6,n===0?(u.push(t>>16&255),u.push(t>>8&255),u.push(t&255)):n===18?(u.push(t>>10&255),u.push(t>>2&255)):n===12&&u.push(t>>4&255),new Uint8Array(u)}function zn(e){var i="",n=0,l,r,o=e.length,t=we;for(l=0;l<o;l++)l%3===0&&l&&(i+=t[n>>18&63],i+=t[n>>12&63],i+=t[n>>6&63],i+=t[n&63]),n=(n<<8)+e[l];return r=o%3,r===0?(i+=t[n>>18&63],i+=t[n>>12&63],i+=t[n>>6&63],i+=t[n&63]):r===2?(i+=t[n>>10&63],i+=t[n>>4&63],i+=t[n<<2&63],i+=t[64]):r===1&&(i+=t[n>>2&63],i+=t[n<<4&63],i+=t[64],i+=t[64]),i}function er(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}ai.exports=new Xn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Jn,construct:Zn,predicate:er,represent:zn})});var Se=v((Bl,ci)=>{"use strict";var ir=w(),nr=Object.prototype.hasOwnProperty,rr=Object.prototype.toString;function lr(e){if(e===null)return!0;var i=[],n,l,r,o,t,u=e;for(n=0,l=u.length;n<l;n+=1){if(r=u[n],t=!1,rr.call(r)!=="[object Object]")return!1;for(o in r)if(nr.call(r,o))if(!t)t=!0;else return!1;if(!t)return!1;if(i.indexOf(o)===-1)i.push(o);else return!1}return!0}function tr(e){return e!==null?e:[]}ci.exports=new ir("tag:yaml.org,2002:omap",{kind:"sequence",resolve:lr,construct:tr})});var be=v((Hl,si)=>{"use strict";var or=w(),ur=Object.prototype.toString;function ar(e){if(e===null)return!0;var i,n,l,r,o,t=e;for(o=new Array(t.length),i=0,n=t.length;i<n;i+=1){if(l=t[i],ur.call(l)!=="[object Object]"||(r=Object.keys(l),r.length!==1))return!1;o[i]=[r[0],l[r[0]]]}return!0}function cr(e){if(e===null)return[];var i,n,l,r,o,t=e;for(o=new Array(t.length),i=0,n=t.length;i<n;i+=1)l=t[i],r=Object.keys(l),o[i]=[r[0],l[r[0]]];return o}si.exports=new or("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ar,construct:cr})});var Ee=v((jl,pi)=>{"use strict";var sr=w(),pr=Object.prototype.hasOwnProperty;function fr(e){if(e===null)return!0;var i,n=e;for(i in n)if(pr.call(n,i)&&n[i]!==null)return!1;return!0}function hr(e){return e!==null?e:{}}pi.exports=new sr("tag:yaml.org,2002:set",{kind:"mapping",resolve:fr,construct:hr})});var Q=v((Kl,fi)=>{"use strict";fi.exports=Ae().extend({implicit:[ye(),Ce()],explicit:[Te(),Se(),be(),Ee()]})});var Fi=v((Wl,Ie)=>{"use strict";var N=M(),Ai=R(),dr=He(),gr=Q(),I=Object.prototype.hasOwnProperty,X=1,yi=2,Ci=3,J=4,_e=1,mr=2,hi=3,xr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,vr=/[\x85\u2028\u2029]/,Ar=/[,\[\]\{\}]/,wi=/^(?:!|!!|![a-z\-]+!)$/i,Ti=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function di(e){return Object.prototype.toString.call(e)}function _(e){return e===10||e===13}function D(e){return e===9||e===32}function b(e){return e===9||e===32||e===10||e===13}function q(e){return e===44||e===91||e===93||e===123||e===125}function yr(e){var i;return 48<=e&&e<=57?e-48:(i=e|32,97<=i&&i<=102?i-97+10:-1)}function Cr(e){return e===120?2:e===117?4:e===85?8:0}function wr(e){return 48<=e&&e<=57?e-48:-1}function gi(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Tr(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Si=new Array(256),bi=new Array(256);for(L=0;L<256;L++)Si[L]=gi(L)?1:0,bi[L]=gi(L);var L;function Sr(e,i){this.input=e,this.filename=i.filename||null,this.schema=i.schema||gr,this.onWarning=i.onWarning||null,this.legacy=i.legacy||!1,this.json=i.json||!1,this.listener=i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ei(e,i){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=dr(n),new Ai(i,n)}function f(e,i){throw Ei(e,i)}function Z(e,i){e.onWarning&&e.onWarning.call(null,Ei(e,i))}var mi={YAML:function(i,n,l){var r,o,t;i.version!==null&&f(i,"duplication of %YAML directive"),l.length!==1&&f(i,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(l[0]),r===null&&f(i,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),t=parseInt(r[2],10),o!==1&&f(i,"unacceptable YAML version of the document"),i.version=l[0],i.checkLineBreaks=t<2,t!==1&&t!==2&&Z(i,"unsupported YAML version of the document")},TAG:function(i,n,l){var r,o;l.length!==2&&f(i,"TAG directive accepts exactly two arguments"),r=l[0],o=l[1],wi.test(r)||f(i,"ill-formed tag handle (first argument) of the TAG directive"),I.call(i.tagMap,r)&&f(i,'there is a previously declared suffix for "'+r+'" tag handle'),Ti.test(o)||f(i,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(t){f(i,"tag prefix is malformed: "+o)}i.tagMap[r]=o}};function k(e,i,n,l){var r,o,t,u;if(i<n){if(u=e.input.slice(i,n),l)for(r=0,o=u.length;r<o;r+=1)t=u.charCodeAt(r),t===9||32<=t&&t<=1114111||f(e,"expected valid JSON character");else xr.test(u)&&f(e,"the stream contains non-printable characters");e.result+=u}}function xi(e,i,n,l){var r,o,t,u;for(N.isObject(n)||f(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),t=0,u=r.length;t<u;t+=1)o=r[t],I.call(i,o)||(i[o]=n[o],l[o]=!0)}function U(e,i,n,l,r,o,t,u,a){var c,p;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,p=r.length;c<p;c+=1)Array.isArray(r[c])&&f(e,"nested arrays are not supported inside keys"),typeof r=="object"&&di(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&di(r)==="[object Object]"&&(r="[object Object]"),r=String(r),i===null&&(i={}),l==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,p=o.length;c<p;c+=1)xi(e,i,o[c],n);else xi(e,i,o,n);else!e.json&&!I.call(n,r)&&I.call(i,r)&&(e.line=t||e.line,e.lineStart=u||e.lineStart,e.position=a||e.position,f(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(i,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):i[r]=o,delete n[r];return i}function Fe(e){var i;i=e.input.charCodeAt(e.position),i===10?e.position++:i===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):f(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function C(e,i,n){for(var l=0,r=e.input.charCodeAt(e.position);r!==0;){for(;D(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(i&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(_(r))for(Fe(e),r=e.input.charCodeAt(e.position),l++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&l!==0&&e.lineIndent<n&&Z(e,"deficient indentation"),l}function z(e){var i=e.position,n;return n=e.input.charCodeAt(i),!!((n===45||n===46)&&n===e.input.charCodeAt(i+1)&&n===e.input.charCodeAt(i+2)&&(i+=3,n=e.input.charCodeAt(i),n===0||b(n)))}function ke(e,i){i===1?e.result+=" ":i>1&&(e.result+=N.repeat(`
`,i-1))}function br(e,i,n){var l,r,o,t,u,a,c,p,s=e.kind,h=e.result,d;if(d=e.input.charCodeAt(e.position),b(d)||q(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(r=e.input.charCodeAt(e.position+1),b(r)||n&&q(r)))return!1;for(e.kind="scalar",e.result="",o=t=e.position,u=!1;d!==0;){if(d===58){if(r=e.input.charCodeAt(e.position+1),b(r)||n&&q(r))break}else if(d===35){if(l=e.input.charCodeAt(e.position-1),b(l))break}else{if(e.position===e.lineStart&&z(e)||n&&q(d))break;if(_(d))if(a=e.line,c=e.lineStart,p=e.lineIndent,C(e,!1,-1),e.lineIndent>=i){u=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=t,e.line=a,e.lineStart=c,e.lineIndent=p;break}}u&&(k(e,o,t,!1),ke(e,e.line-a),o=t=e.position,u=!1),D(d)||(t=e.position+1),d=e.input.charCodeAt(++e.position)}return k(e,o,t,!1),e.result?!0:(e.kind=s,e.result=h,!1)}function Er(e,i){var n,l,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,l=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(k(e,l,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)l=e.position,e.position++,r=e.position;else return!0;else _(n)?(k(e,l,r,!0),ke(e,C(e,!1,i)),l=r=e.position):e.position===e.lineStart&&z(e)?f(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);f(e,"unexpected end of the stream within a single quoted scalar")}function _r(e,i){var n,l,r,o,t,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=l=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return k(e,n,e.position,!0),e.position++,!0;if(u===92){if(k(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),_(u))C(e,!1,i);else if(u<256&&Si[u])e.result+=bi[u],e.position++;else if((t=Cr(u))>0){for(r=t,o=0;r>0;r--)u=e.input.charCodeAt(++e.position),(t=yr(u))>=0?o=(o<<4)+t:f(e,"expected hexadecimal character");e.result+=Tr(o),e.position++}else f(e,"unknown escape sequence");n=l=e.position}else _(u)?(k(e,n,l,!0),ke(e,C(e,!1,i)),n=l=e.position):e.position===e.lineStart&&z(e)?f(e,"unexpected end of the document within a double quoted scalar"):(e.position++,l=e.position)}f(e,"unexpected end of the stream within a double quoted scalar")}function Fr(e,i){var n=!0,l,r,o,t=e.tag,u,a=e.anchor,c,p,s,h,d,g=Object.create(null),x,A,E,m;if(m=e.input.charCodeAt(e.position),m===91)p=93,d=!1,u=[];else if(m===123)p=125,d=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),m=e.input.charCodeAt(++e.position);m!==0;){if(C(e,!0,i),m=e.input.charCodeAt(e.position),m===p)return e.position++,e.tag=t,e.anchor=a,e.kind=d?"mapping":"sequence",e.result=u,!0;n?m===44&&f(e,"expected the node content, but found ','"):f(e,"missed comma between flow collection entries"),A=x=E=null,s=h=!1,m===63&&(c=e.input.charCodeAt(e.position+1),b(c)&&(s=h=!0,e.position++,C(e,!0,i))),l=e.line,r=e.lineStart,o=e.position,P(e,i,X,!1,!0),A=e.tag,x=e.result,C(e,!0,i),m=e.input.charCodeAt(e.position),(h||e.line===l)&&m===58&&(s=!0,m=e.input.charCodeAt(++e.position),C(e,!0,i),P(e,i,X,!1,!0),E=e.result),d?U(e,u,g,A,x,E,l,r,o):s?u.push(U(e,null,g,A,x,E,l,r,o)):u.push(x),C(e,!0,i),m=e.input.charCodeAt(e.position),m===44?(n=!0,m=e.input.charCodeAt(++e.position)):n=!1}f(e,"unexpected end of the stream within a flow collection")}function kr(e,i){var n,l,r=_e,o=!1,t=!1,u=i,a=0,c=!1,p,s;if(s=e.input.charCodeAt(e.position),s===124)l=!1;else if(s===62)l=!0;else return!1;for(e.kind="scalar",e.result="";s!==0;)if(s=e.input.charCodeAt(++e.position),s===43||s===45)_e===r?r=s===43?hi:mr:f(e,"repeat of a chomping mode identifier");else if((p=wr(s))>=0)p===0?f(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):t?f(e,"repeat of an indentation width identifier"):(u=i+p-1,t=!0);else break;if(D(s)){do s=e.input.charCodeAt(++e.position);while(D(s));if(s===35)do s=e.input.charCodeAt(++e.position);while(!_(s)&&s!==0)}for(;s!==0;){for(Fe(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!t||e.lineIndent<u)&&s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!t&&e.lineIndent>u&&(u=e.lineIndent),_(s)){a++;continue}if(e.lineIndent<u){r===hi?e.result+=N.repeat(`
`,o?1+a:a):r===_e&&o&&(e.result+=`
`);break}for(l?D(s)?(c=!0,e.result+=N.repeat(`
`,o?1+a:a)):c?(c=!1,e.result+=N.repeat(`
`,a+1)):a===0?o&&(e.result+=" "):e.result+=N.repeat(`
`,a):e.result+=N.repeat(`
`,o?1+a:a),o=!0,t=!0,a=0,n=e.position;!_(s)&&s!==0;)s=e.input.charCodeAt(++e.position);k(e,n,e.position,!1)}return!0}function vi(e,i){var n,l=e.tag,r=e.anchor,o=[],t,u=!1,a;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),a=e.input.charCodeAt(e.position);a!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,f(e,"tab characters must not be used in indentation")),!(a!==45||(t=e.input.charCodeAt(e.position+1),!b(t))));){if(u=!0,e.position++,C(e,!0,-1)&&e.lineIndent<=i){o.push(null),a=e.input.charCodeAt(e.position);continue}if(n=e.line,P(e,i,Ci,!1,!0),o.push(e.result),C(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>i)&&a!==0)f(e,"bad indentation of a sequence entry");else if(e.lineIndent<i)break}return u?(e.tag=l,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function Ir(e,i,n){var l,r,o,t,u,a,c=e.tag,p=e.anchor,s={},h=Object.create(null),d=null,g=null,x=null,A=!1,E=!1,m;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),m=e.input.charCodeAt(e.position);m!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,f(e,"tab characters must not be used in indentation")),l=e.input.charCodeAt(e.position+1),o=e.line,(m===63||m===58)&&b(l))m===63?(A&&(U(e,s,h,d,g,null,t,u,a),d=g=x=null),E=!0,A=!0,r=!0):A?(A=!1,r=!0):f(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,m=l;else{if(t=e.line,u=e.lineStart,a=e.position,!P(e,n,yi,!1,!0))break;if(e.line===o){for(m=e.input.charCodeAt(e.position);D(m);)m=e.input.charCodeAt(++e.position);if(m===58)m=e.input.charCodeAt(++e.position),b(m)||f(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(U(e,s,h,d,g,null,t,u,a),d=g=x=null),E=!0,A=!1,r=!1,d=e.tag,g=e.result;else if(E)f(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=p,!0}else if(E)f(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=p,!0}if((e.line===o||e.lineIndent>i)&&(A&&(t=e.line,u=e.lineStart,a=e.position),P(e,i,J,!0,r)&&(A?g=e.result:x=e.result),A||(U(e,s,h,d,g,x,t,u,a),d=g=x=null),C(e,!0,-1),m=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>i)&&m!==0)f(e,"bad indentation of a mapping entry");else if(e.lineIndent<i)break}return A&&U(e,s,h,d,g,null,t,u,a),E&&(e.tag=c,e.anchor=p,e.kind="mapping",e.result=s),E}function Or(e){var i,n=!1,l=!1,r,o,t;if(t=e.input.charCodeAt(e.position),t!==33)return!1;if(e.tag!==null&&f(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(n=!0,t=e.input.charCodeAt(++e.position)):t===33?(l=!0,r="!!",t=e.input.charCodeAt(++e.position)):r="!",i=e.position,n){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62);e.position<e.length?(o=e.input.slice(i,e.position),t=e.input.charCodeAt(++e.position)):f(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!b(t);)t===33&&(l?f(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(i-1,e.position+1),wi.test(r)||f(e,"named tag handle cannot contain such characters"),l=!0,i=e.position+1)),t=e.input.charCodeAt(++e.position);o=e.input.slice(i,e.position),Ar.test(o)&&f(e,"tag suffix cannot contain flow indicator characters")}o&&!Ti.test(o)&&f(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(u){f(e,"tag name is malformed: "+o)}return n?e.tag=o:I.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:f(e,'undeclared tag handle "'+r+'"'),!0}function Lr(e){var i,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&f(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),i=e.position;n!==0&&!b(n)&&!q(n);)n=e.input.charCodeAt(++e.position);return e.position===i&&f(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(i,e.position),!0}function Nr(e){var i,n,l;if(l=e.input.charCodeAt(e.position),l!==42)return!1;for(l=e.input.charCodeAt(++e.position),i=e.position;l!==0&&!b(l)&&!q(l);)l=e.input.charCodeAt(++e.position);return e.position===i&&f(e,"name of an alias node must contain at least one character"),n=e.input.slice(i,e.position),I.call(e.anchorMap,n)||f(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],C(e,!0,-1),!0}function P(e,i,n,l,r){var o,t,u,a=1,c=!1,p=!1,s,h,d,g,x,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=t=u=J===n||Ci===n,l&&C(e,!0,-1)&&(c=!0,e.lineIndent>i?a=1:e.lineIndent===i?a=0:e.lineIndent<i&&(a=-1)),a===1)for(;Or(e)||Lr(e);)C(e,!0,-1)?(c=!0,u=o,e.lineIndent>i?a=1:e.lineIndent===i?a=0:e.lineIndent<i&&(a=-1)):u=!1;if(u&&(u=c||r),(a===1||J===n)&&(X===n||yi===n?x=i:x=i+1,A=e.position-e.lineStart,a===1?u&&(vi(e,A)||Ir(e,A,x))||Fr(e,x)?p=!0:(t&&kr(e,x)||Er(e,x)||_r(e,x)?p=!0:Nr(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&f(e,"alias node should not have any properties")):br(e,x,X===n)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(p=u&&vi(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&f(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),s=0,h=e.implicitTypes.length;s<h;s+=1)if(g=e.implicitTypes[s],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(I.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,d=e.typeMap.multi[e.kind||"fallback"],s=0,h=d.length;s<h;s+=1)if(e.tag.slice(0,d[s].tag.length)===d[s].tag){g=d[s];break}g||f(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&f(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}function Dr(e){var i=e.position,n,l,r,o=!1,t;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0&&(C(e,!0,-1),t=e.input.charCodeAt(e.position),!(e.lineIndent>0||t!==37));){for(o=!0,t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!b(t);)t=e.input.charCodeAt(++e.position);for(l=e.input.slice(n,e.position),r=[],l.length<1&&f(e,"directive name must not be less than one character in length");t!==0;){for(;D(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!_(t));break}if(_(t))break;for(n=e.position;t!==0&&!b(t);)t=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}t!==0&&Fe(e),I.call(mi,l)?mi[l](e,l,r):Z(e,'unknown document directive "'+l+'"')}if(C(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,C(e,!0,-1)):o&&f(e,"directives end mark is expected"),P(e,e.lineIndent-1,J,!1,!0),C(e,!0,-1),e.checkLineBreaks&&vr.test(e.input.slice(i,e.position))&&Z(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&z(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,C(e,!0,-1));return}if(e.position<e.length-1)f(e,"end of the stream or a document separator is expected");else return}function _i(e,i){e=String(e),i=i||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Sr(e,i),l=e.indexOf("\0");for(l!==-1&&(n.position=l,f(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Dr(n);return n.documents}function Mr(e,i,n){i!==null&&typeof i=="object"&&typeof n=="undefined"&&(n=i,i=null);var l=_i(e,n);if(typeof i!="function")return l;for(var r=0,o=l.length;r<o;r+=1)i(l[r])}function Rr(e,i){var n=_i(e,i);if(n.length!==0){if(n.length===1)return n[0];throw new Ai("expected a single document in the stream, but found more")}}Ie.exports.loadAll=Mr;Ie.exports.load=Rr});var Qi=v((Gl,Vi)=>{"use strict";var ne=M(),V=R(),qr=Q(),qi=Object.prototype.toString,Ui=Object.prototype.hasOwnProperty,Me=65279,Ur=9,W=10,Pr=13,Yr=32,Br=33,Hr=34,Oe=35,jr=37,Kr=38,Wr=39,Gr=42,Pi=44,$r=45,ee=58,Vr=61,Qr=62,Xr=63,Jr=64,Yi=91,Bi=93,Zr=96,Hi=123,zr=124,ji=125,T={};T[0]="\\0";T[7]="\\a";T[8]="\\b";T[9]="\\t";T[10]="\\n";T[11]="\\v";T[12]="\\f";T[13]="\\r";T[27]="\\e";T[34]='\\"';T[92]="\\\\";T[133]="\\N";T[160]="\\_";T[8232]="\\L";T[8233]="\\P";var el=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],il=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function nl(e,i){var n,l,r,o,t,u,a;if(i===null)return{};for(n={},l=Object.keys(i),r=0,o=l.length;r<o;r+=1)t=l[r],u=String(i[t]),t.slice(0,2)==="!!"&&(t="tag:yaml.org,2002:"+t.slice(2)),a=e.compiledTypeMap.fallback[t],a&&Ui.call(a.styleAliases,u)&&(u=a.styleAliases[u]),n[t]=u;return n}function rl(e){var i,n,l;if(i=e.toString(16).toUpperCase(),e<=255)n="x",l=2;else if(e<=65535)n="u",l=4;else if(e<=4294967295)n="U",l=8;else throw new V("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ne.repeat("0",l-i.length)+i}var ll=1,G=2;function tl(e){this.schema=e.schema||qr,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ne.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=nl(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?G:ll,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ki(e,i){for(var n=ne.repeat(" ",i),l=0,r=-1,o="",t,u=e.length;l<u;)r=e.indexOf(`
`,l),r===-1?(t=e.slice(l),l=u):(t=e.slice(l,r+1),l=r+1),t.length&&t!==`
`&&(o+=n),o+=t;return o}function Le(e,i){return`
`+ne.repeat(" ",e.indent*i)}function ol(e,i){var n,l,r;for(n=0,l=e.implicitTypes.length;n<l;n+=1)if(r=e.implicitTypes[n],r.resolve(i))return!0;return!1}function ie(e){return e===Yr||e===Ur}function $(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Me||65536<=e&&e<=1114111}function Ii(e){return $(e)&&e!==Me&&e!==Pr&&e!==W}function Oi(e,i,n){var l=Ii(e),r=l&&!ie(e);return(n?l:l&&e!==Pi&&e!==Yi&&e!==Bi&&e!==Hi&&e!==ji)&&e!==Oe&&!(i===ee&&!r)||Ii(i)&&!ie(i)&&e===Oe||i===ee&&r}function ul(e){return $(e)&&e!==Me&&!ie(e)&&e!==$r&&e!==Xr&&e!==ee&&e!==Pi&&e!==Yi&&e!==Bi&&e!==Hi&&e!==ji&&e!==Oe&&e!==Kr&&e!==Gr&&e!==Br&&e!==zr&&e!==Vr&&e!==Qr&&e!==Wr&&e!==Hr&&e!==jr&&e!==Jr&&e!==Zr}function al(e){return!ie(e)&&e!==ee}function K(e,i){var n=e.charCodeAt(i),l;return n>=55296&&n<=56319&&i+1<e.length&&(l=e.charCodeAt(i+1),l>=56320&&l<=57343)?(n-55296)*1024+l-56320+65536:n}function Ki(e){var i=/^\n* /;return i.test(e)}var Wi=1,Ne=2,Gi=3,$i=4,Y=5;function cl(e,i,n,l,r,o,t,u){var a,c=0,p=null,s=!1,h=!1,d=l!==-1,g=-1,x=ul(K(e,0))&&al(K(e,e.length-1));if(i||t)for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=K(e,a),!$(c))return Y;x=x&&Oi(c,p,u),p=c}else{for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=K(e,a),c===W)s=!0,d&&(h=h||a-g-1>l&&e[g+1]!==" ",g=a);else if(!$(c))return Y;x=x&&Oi(c,p,u),p=c}h=h||d&&a-g-1>l&&e[g+1]!==" "}return!s&&!h?x&&!t&&!r(e)?Wi:o===G?Y:Ne:n>9&&Ki(e)?Y:t?o===G?Y:Ne:h?$i:Gi}function sl(e,i,n,l,r){e.dump=function(){if(i.length===0)return e.quotingType===G?'""':"''";if(!e.noCompatMode&&(el.indexOf(i)!==-1||il.test(i)))return e.quotingType===G?'"'+i+'"':"'"+i+"'";var o=e.indent*Math.max(1,n),t=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=l||e.flowLevel>-1&&n>=e.flowLevel;function a(c){return ol(e,c)}switch(cl(i,u,e.indent,t,a,e.quotingType,e.forceQuotes&&!l,r)){case Wi:return i;case Ne:return"'"+i.replace(/'/g,"''")+"'";case Gi:return"|"+Li(i,e.indent)+Ni(ki(i,o));case $i:return">"+Li(i,e.indent)+Ni(ki(pl(i,t),o));case Y:return'"'+fl(i,t)+'"';default:throw new V("impossible error: invalid scalar style")}}()}function Li(e,i){var n=Ki(e)?String(i):"",l=e[e.length-1]===`
`,r=l&&(e[e.length-2]===`
`||e===`
`),o=r?"+":l?"":"-";return n+o+`
`}function Ni(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function pl(e,i){for(var n=/(\n+)([^\n]*)/g,l=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,Di(e.slice(0,c),i)}(),r=e[0]===`
`||e[0]===" ",o,t;t=n.exec(e);){var u=t[1],a=t[2];o=a[0]===" ",l+=u+(!r&&!o&&a!==""?`
`:"")+Di(a,i),r=o}return l}function Di(e,i){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,l,r=0,o,t=0,u=0,a="";l=n.exec(e);)u=l.index,u-r>i&&(o=t>r?t:u,a+=`
`+e.slice(r,o),r=o+1),t=u;return a+=`
`,e.length-r>i&&t>r?a+=e.slice(r,t)+`
`+e.slice(t+1):a+=e.slice(r),a.slice(1)}function fl(e){for(var i="",n=0,l,r=0;r<e.length;n>=65536?r+=2:r++)n=K(e,r),l=T[n],!l&&$(n)?(i+=e[r],n>=65536&&(i+=e[r+1])):i+=l||rl(n);return i}function hl(e,i,n){var l="",r=e.tag,o,t,u;for(o=0,t=n.length;o<t;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(F(e,i,u,!1,!1)||typeof u=="undefined"&&F(e,i,null,!1,!1))&&(l!==""&&(l+=","+(e.condenseFlow?"":" ")),l+=e.dump);e.tag=r,e.dump="["+l+"]"}function Mi(e,i,n,l){var r="",o=e.tag,t,u,a;for(t=0,u=n.length;t<u;t+=1)a=n[t],e.replacer&&(a=e.replacer.call(n,String(t),a)),(F(e,i+1,a,!0,!0,!1,!0)||typeof a=="undefined"&&F(e,i+1,null,!0,!0,!1,!0))&&((!l||r!=="")&&(r+=Le(e,i)),e.dump&&W===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=o,e.dump=r||"[]"}function dl(e,i,n){var l="",r=e.tag,o=Object.keys(n),t,u,a,c,p;for(t=0,u=o.length;t<u;t+=1)p="",l!==""&&(p+=", "),e.condenseFlow&&(p+='"'),a=o[t],c=n[a],e.replacer&&(c=e.replacer.call(n,a,c)),F(e,i,a,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),F(e,i,c,!1,!1)&&(p+=e.dump,l+=p));e.tag=r,e.dump="{"+l+"}"}function gl(e,i,n,l){var r="",o=e.tag,t=Object.keys(n),u,a,c,p,s,h;if(e.sortKeys===!0)t.sort();else if(typeof e.sortKeys=="function")t.sort(e.sortKeys);else if(e.sortKeys)throw new V("sortKeys must be a boolean or a function");for(u=0,a=t.length;u<a;u+=1)h="",(!l||r!=="")&&(h+=Le(e,i)),c=t[u],p=n[c],e.replacer&&(p=e.replacer.call(n,c,p)),F(e,i+1,c,!0,!0,!0)&&(s=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,s&&(e.dump&&W===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,s&&(h+=Le(e,i)),F(e,i+1,p,!0,s)&&(e.dump&&W===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,r+=h));e.tag=o,e.dump=r||"{}"}function Ri(e,i,n){var l,r,o,t,u,a;for(r=n?e.explicitTypes:e.implicitTypes,o=0,t=r.length;o<t;o+=1)if(u=r[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof i=="object"&&i instanceof u.instanceOf)&&(!u.predicate||u.predicate(i))){if(n?u.multi&&u.representName?e.tag=u.representName(i):e.tag=u.tag:e.tag="?",u.represent){if(a=e.styleMap[u.tag]||u.defaultStyle,qi.call(u.represent)==="[object Function]")l=u.represent(i,a);else if(Ui.call(u.represent,a))l=u.represent[a](i,a);else throw new V("!<"+u.tag+'> tag resolver accepts not "'+a+'" style');e.dump=l}return!0}return!1}function F(e,i,n,l,r,o,t){e.tag=null,e.dump=n,Ri(e,n,!1)||Ri(e,n,!0);var u=qi.call(e.dump),a=l,c;l&&(l=e.flowLevel<0||e.flowLevel>i);var p=u==="[object Object]"||u==="[object Array]",s,h;if(p&&(s=e.duplicates.indexOf(n),h=s!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&i>0)&&(r=!1),h&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(p&&h&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),u==="[object Object]")l&&Object.keys(e.dump).length!==0?(gl(e,i,e.dump,r),h&&(e.dump="&ref_"+s+e.dump)):(dl(e,i,e.dump),h&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object Array]")l&&e.dump.length!==0?(e.noArrayIndent&&!t&&i>0?Mi(e,i-1,e.dump,r):Mi(e,i,e.dump,r),h&&(e.dump="&ref_"+s+e.dump)):(hl(e,i,e.dump),h&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&sl(e,e.dump,i,o,a);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new V("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function ml(e,i){var n=[],l=[],r,o;for(De(e,n,l),r=0,o=l.length;r<o;r+=1)i.duplicates.push(n[l[r]]);i.usedDuplicates=new Array(o)}function De(e,i,n){var l,r,o;if(e!==null&&typeof e=="object")if(r=i.indexOf(e),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(i.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)De(e[r],i,n);else for(l=Object.keys(e),r=0,o=l.length;r<o;r+=1)De(e[l[r]],i,n)}function xl(e,i){i=i||{};var n=new tl(i);n.noRefs||ml(e,n);var l=e;return n.replacer&&(l=n.replacer.call({"":l},"",l)),F(n,0,l,!0,!0)?n.dump+`
`:""}Vi.exports.dump=xl});var Ji=v(($l,S)=>{"use strict";var Xi=Fi(),vl=Qi();function Re(e,i){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+i+" instead, which is now safe by default.")}}S.exports.Type=w();S.exports.Schema=ce();S.exports.FAILSAFE_SCHEMA=he();S.exports.JSON_SCHEMA=ve();S.exports.CORE_SCHEMA=Ae();S.exports.DEFAULT_SCHEMA=Q();S.exports.load=Xi.load;S.exports.loadAll=Xi.loadAll;S.exports.dump=vl.dump;S.exports.YAMLException=R();S.exports.types={binary:Te(),float:xe(),map:fe(),null:de(),pairs:be(),set:Ee(),timestamp:ye(),bool:ge(),int:me(),merge:Ce(),omap:Se(),seq:pe(),str:se()};S.exports.safeLoad=Re("safeLoad","load");S.exports.safeLoadAll=Re("safeLoadAll","loadAll");S.exports.safeDump=Re("safeDump","dump")});var Cl={};rn(Cl,{default:()=>re});module.exports=tn(Cl);var y=require("obsidian"),Zi=Ji(),Al={targetTag:"\u6D4B\u8BD5",columns:4,cardWidth:300,cardHeight:300,hSpacing:350,vSpacing:350,autoUpdateDescription:!0,showUpdateNotice:!1,keywords:"Description::,Desc::",autoUpdateCards:!0,updateDebounceTime:2e3},re=class extends y.Plugin{constructor(){super(...arguments);this.isProcessing=!1;this.updateQueue=new Map}async onload(){await this.loadSettings();let l=this.addStatusBarItem().createEl("div",{cls:"canvas-icon-wrapper",title:"Canvas\u6807\u7B7E\u5BFC\u5165\u5668"});this.createCardIcon(l),l.onclick=()=>this.showSettings(),this.setupDescriptionUpdater(),this.addCommand({id:"force-update-canvas-cards",name:"\u5F3A\u5236\u66F4\u65B0\u6240\u6709\u76F8\u5173Canvas\u5361\u7247",callback:()=>this.updateAllCanvasCards()})}createCardIcon(n){let l=document.createElementNS("http://www.w3.org/2000/svg","svg");return l.setAttribute("width","24"),l.setAttribute("height","24"),l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("fill","none"),l.setAttribute("stroke","currentColor"),l.setAttribute("stroke-width","1.5"),l.setAttribute("stroke-linecap","round"),l.classList.add("canvas-card-icon"),["M5 7h14a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z","M8 12h8","M8 15h5"].forEach(o=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",o),l.appendChild(t)}),n.appendChild(l),l}async loadSettings(){this.settings=Object.assign({},Al,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}showSettings(){new qe(this.app,this).open()}setupDescriptionUpdater(){this.registerEvent(this.app.vault.on("modify",async n=>{n instanceof y.TFile&&(n.extension==="md"&&this.settings.autoUpdateDescription&&await this.processDescriptionUpdate(n),this.shouldUpdateCanvasCards(n)&&this.scheduleCanvasUpdate(n))}))}shouldUpdateCanvasCards(n){return n.extension==="md"&&this.settings.autoUpdateCards&&this.hasDescriptionChanged(n)}hasDescriptionChanged(n){var l,r;return!!((r=(l=this.app.metadataCache.getFileCache(n))==null?void 0:l.frontmatter)!=null&&r.description)}scheduleCanvasUpdate(n){this.updateQueue.has(n.path)&&clearTimeout(this.updateQueue.get(n.path)),this.updateQueue.set(n.path,setTimeout(async()=>{await this.updateRelatedCanvasCards(n),this.updateQueue.delete(n.path)},this.settings.updateDebounceTime))}getFileDescription(n){var r;let l=this.app.metadataCache.getFileCache(n);return((r=l==null?void 0:l.frontmatter)==null?void 0:r.description)||"\u65E0\u63CF\u8FF0"}async updateRelatedCanvasCards(n){let l=this.app.vault.getFiles().filter(t=>t.extension==="canvas"),r=this.getFileDescription(n),o=n.basename;for(let t of l)try{let u=await this.app.vault.read(t),a=JSON.parse(u),c=!1;a.nodes.forEach(p=>{var s;if((s=p.text)!=null&&s.includes(`[[${o}]]`)){let h=this.updateCardText(p.text,r);h!==p.text&&(p.text=h,c=!0)}}),c&&(await this.app.vault.modify(t,JSON.stringify(a,null,2)),this.settings.showUpdateNotice&&new y.Notice(`\u5DF2\u66F4\u65B0 ${o} \u5728 ${t.basename} \u4E2D\u7684\u5361\u7247`))}catch(u){console.error("\u66F4\u65B0Canvas\u5931\u8D25:",u)}}updateCardText(n,l){let r=n.split(`

`);return r.length>=2?`${r[0]}

${l}`:n}async updateAllCanvasCards(){let n=this.app.vault.getMarkdownFiles();for(let l of n)await this.hasDescriptionChanged(l)&&await this.updateRelatedCanvasCards(l);new y.Notice("\u5DF2\u5B8C\u6210\u6240\u6709Canvas\u5361\u7247\u66F4\u65B0")}async processDescriptionUpdate(n){if(!this.isProcessing){this.isProcessing=!0;try{let l=await this.app.vault.read(n),r=this.settings.keywords.split(",").map(u=>u.trim()),o=new RegExp(`^(${r.map(yl).join("|")})\\s*(.+)$`,"mi"),t=l.match(o);if(t){let u=t[2].trim(),a=/^---\n([\s\S]*?)\n---/,c=l.match(a),p={tags:[]};c&&(p=Zi.load(c[1])||{}),p.description=u;let s=Zi.dump(p,{skipInvalid:!0}),h=c?l.replace(a,`---
${s}---`):`---
${s}---
${l}`;await this.app.vault.modify(n,h),this.settings.showUpdateNotice&&new y.Notice(`\u63CF\u8FF0\u5DF2\u66F4\u65B0: ${u}`)}}finally{this.isProcessing=!1}}}async importToCanvas(){try{let n=this.app.workspace.getActiveFile();if(!(n!=null&&n.path.endsWith(".canvas")))throw new Error("\u8BF7\u5148\u6253\u5F00 Canvas \u6587\u4EF6");let l=await this.readCanvas(n),r=this.getExistingPaths(l),o=this.app.vault.getMarkdownFiles().filter(u=>!r.has(u.path.toLowerCase())&&this.hasTag(u,this.settings.targetTag));if(o.length===0){new y.Notice("\u6CA1\u6709\u53EF\u6DFB\u52A0\u7684\u65B0\u6587\u4EF6");return}let t=this.generateNodes(o,l.nodes);await this.saveCanvas(n,[...l.nodes,...t]),new y.Notice(`\u6210\u529F\u6DFB\u52A0 ${t.length} \u4E2A\u5361\u7247`)}catch(n){new y.Notice(`\u9519\u8BEF: ${n instanceof Error?n.message:String(n)}`)}}async readCanvas(n){try{let l=await this.app.vault.read(n);return JSON.parse(l)||{nodes:[],edges:[]}}catch(l){return{nodes:[],edges:[]}}}getExistingPaths(n){let l=new Set;return n.nodes.forEach(r=>{r.type==="file"?l.add(r.file.toLowerCase()):r.text&&(r.text.match(/\[\[(.*?)\]\]/g)||[]).forEach(t=>{let[u]=t.slice(2,-2).split(/[#^]/),a=this.app.metadataCache.getFirstLinkpathDest(u,"");a&&l.add(a.path.toLowerCase())})}),l}hasTag(n,l){var r,o,t;return(t=(o=(r=this.app.metadataCache.getFileCache(n))==null?void 0:r.frontmatter)==null?void 0:o.tags)==null?void 0:t.includes(l)}generateNodes(n,l){let{columns:r,cardWidth:o,cardHeight:t,hSpacing:u,vSpacing:a}=this.settings,c=0;return l.length>0&&(c=Math.max(...l.map(s=>s.y+(s.height||0)))+a),n.map((p,s)=>{var x,A;let h=Math.floor(s/r),d=s%r,g=((A=(x=this.app.metadataCache.getFileCache(p))==null?void 0:x.frontmatter)==null?void 0:A.description)||"\u65E0\u63CF\u8FF0";return{type:"text",x:d*u,y:c+h*a,width:o,height:t,text:`**[[${p.basename}]]**

${g}`}})}async saveCanvas(n,l){await this.app.vault.adapter.write(n.path,JSON.stringify({nodes:l,edges:[]},null,2))}},qe=class extends y.Modal{constructor(n,l){super(n);this.plugin=l}onOpen(){let{contentEl:n}=this;n.empty(),n.addClass("canvas-importer-modal"),n.createEl("h2",{text:"Canvas \u5BFC\u5165\u8BBE\u7F6E"}),new y.Setting(n).setName("\u76EE\u6807\u6807\u7B7E").setDesc("\u65E0\u9700\u6DFB\u52A0#\u952E\uFF0C\u76F4\u63A5\u8F93\u5165\u6807\u7B7E\u540D\uFF0C\u5982\u679C\u6709\u5B50\u6807\u7B7E\u9700\u8981\u5168\u90E8\u8F93\u5165").addText(l=>l.setValue(this.plugin.settings.targetTag).onChange(async r=>{this.plugin.settings.targetTag=r,await this.plugin.saveSettings()})),new y.Setting(n).setName("\u68C0\u6D4B\u5173\u952E\u8BCD").setDesc("\u591A\u4E2A\u5173\u952E\u8BCD\u7528\u82F1\u6587\u9017\u53F7\u5206\u9694\uFF08\u793A\u4F8B\uFF1ADescription::,Desc::\uFF09").addText(l=>l.setValue(this.plugin.settings.keywords).onChange(async r=>{this.plugin.settings.keywords=r,await this.plugin.saveSettings()})),[["\u5361\u7247\u5BBD\u5EA6","cardWidth",100,800],["\u5361\u7247\u9AD8\u5EA6","cardHeight",100,800],["\u6C34\u5E73\u95F4\u8DDD","hSpacing",50,500],["\u5782\u76F4\u95F4\u8DDD","vSpacing",50,500]].forEach(([l,r,o,t])=>{new y.Setting(n).setName(l).addSlider(u=>u.setLimits(Number(o),Number(t),10).setValue(Number(this.plugin.settings[r])).onChange(async a=>{this.plugin.settings[r]=a,await this.plugin.saveSettings()}).setDynamicTooltip())}),new y.Setting(n).setName("\u81EA\u52A8\u66F4\u65B0\u63CF\u8FF0").addToggle(l=>l.setValue(this.plugin.settings.autoUpdateDescription).onChange(async r=>{this.plugin.settings.autoUpdateDescription=r,await this.plugin.saveSettings()})),new y.Setting(n).setName("\u663E\u793A\u66F4\u65B0\u901A\u77E5").addToggle(l=>l.setValue(this.plugin.settings.showUpdateNotice).onChange(async r=>{this.plugin.settings.showUpdateNotice=r,await this.plugin.saveSettings()})),new y.Setting(n).setName("\u81EA\u52A8\u66F4\u65B0Canvas\u5361\u7247").setDesc("\u5F00\u542F\u540E\u4FEE\u6539\u63CF\u8FF0\u4F1A\u81EA\u52A8\u66F4\u65B0\u76F8\u5173Canvas\u5361\u7247").addToggle(l=>l.setValue(this.plugin.settings.autoUpdateCards).onChange(async r=>{this.plugin.settings.autoUpdateCards=r,await this.plugin.saveSettings()})),new y.Setting(n).setName("\u66F4\u65B0\u9632\u6296\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09").setDesc("\u9632\u6B62\u9891\u7E41\u66F4\u65B0\u7684\u95F4\u9694\u65F6\u95F4").addText(l=>l.setValue(String(this.plugin.settings.updateDebounceTime)).onChange(async r=>{let o=Math.max(500,parseInt(r)||2e3);this.plugin.settings.updateDebounceTime=o,await this.plugin.saveSettings()})),new y.Setting(n).addButton(l=>l.setButtonText("\u7ACB\u5373\u5BFC\u5165").setCta().onClick(()=>{this.close(),this.plugin.importToCanvas()}))}onClose(){let{contentEl:n}=this;n.empty()}};function yl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}
